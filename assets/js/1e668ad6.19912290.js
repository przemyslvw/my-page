"use strict";(self.webpackChunkmy_page=self.webpackChunkmy_page||[]).push([[3898],{28453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>o});var a=s(96540);const i={},r=a.createContext(i);function l(n){const e=a.useContext(r);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),a.createElement(r.Provider,{value:e},n.children)}},58288:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"kurspihole/rozdzial-6-zaawansowane-funkcje","title":"\ud83d\udcca Rozdzia\u0142 6: Zaawansowane funkcje","description":"\ud83d\udd17 6.1 Integracja z Unbound (Lokalny resolver DNS)","source":"@site/docs/kurspihole/rozdzial-6-zaawansowane-funkcje.md","sourceDirName":"kurspihole","slug":"/kurspihole/rozdzial-6-zaawansowane-funkcje","permalink":"/docs/kurspihole/rozdzial-6-zaawansowane-funkcje","draft":false,"unlisted":false,"editUrl":"https://github.com/przemyslvw/my-page/edit/master/docs/kurspihole/rozdzial-6-zaawansowane-funkcje.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"id":"rozdzial-6-zaawansowane-funkcje","title":"\ud83d\udcca Rozdzia\u0142 6: Zaawansowane funkcje","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udd12 Rozdzia\u0142 5: Zabezpieczenia i optymalizacja","permalink":"/docs/kurspihole/rozdzial-5-zabezpieczenia"},"next":{"title":"\ud83e\uddd1\u200d\ud83d\udcbb Rozdzia\u0142 7: Rozwi\u0105zywanie problem\xf3w","permalink":"/docs/kurspihole/rozdzial-7-rozwiazywanie-problemow"}}');var i=s(74848),r=s(28453);const l={id:"rozdzial-6-zaawansowane-funkcje",title:"\ud83d\udcca Rozdzia\u0142 6: Zaawansowane funkcje",sidebar_position:7},o=void 0,d={},c=[{value:"\ud83d\udd17 6.1 Integracja z Unbound (Lokalny resolver DNS)",id:"-61-integracja-z-unbound-lokalny-resolver-dns",level:3},{value:"\u2705 <strong>Instalacja Unbound:</strong>",id:"-instalacja-unbound",level:4},{value:"\ud83d\udee1\ufe0f 6.2 Konfiguracja VPN z WireGuard",id:"\ufe0f-62-konfiguracja-vpn-z-wireguard",level:3},{value:"\u2705 <strong>Instalacja WireGuard:</strong>",id:"-instalacja-wireguard",level:4},{value:"\u2696\ufe0f 6.3 Czarne i bia\u0142e listy",id:"\ufe0f-63-czarne-i-bia\u0142e-listy",level:3},{value:"\u2795 <strong>Dodanie domeny do czarnej listy:</strong>",id:"-dodanie-domeny-do-czarnej-listy",level:4},{value:"\u2796 <strong>Dodanie domeny do bia\u0142ej listy:</strong>",id:"-dodanie-domeny-do-bia\u0142ej-listy",level:4},{value:"\ud83d\udccb 6.4 Tworzenie w\u0142asnych list blokuj\u0105cych",id:"-64-tworzenie-w\u0142asnych-list-blokuj\u0105cych",level:3},{value:"\ud83d\udfe2 Podsumowanie",id:"-podsumowanie",level:2}];function t(n){const e={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h3,{id:"-61-integracja-z-unbound-lokalny-resolver-dns",children:"\ud83d\udd17 6.1 Integracja z Unbound (Lokalny resolver DNS)"}),"\n",(0,i.jsxs)(e.p,{children:["Integracja Pi-hole z ",(0,i.jsx)(e.strong,{children:"Unbound"})," pozwala stworzy\u0107 w\u0142asny, niezale\u017cny resolver DNS, co zwi\u0119ksza prywatno\u015b\u0107 i bezpiecze\u0144stwo."]}),"\n",(0,i.jsxs)(e.h4,{id:"-instalacja-unbound",children:["\u2705 ",(0,i.jsx)(e.strong,{children:"Instalacja Unbound:"})]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Zainstaluj Unbound:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"sudo apt install unbound -y\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"2",children:["\n",(0,i.jsx)(e.li,{children:"Pobierz najnowsz\u0105 list\u0119 root serwer\xf3w DNS:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"wget -O /var/lib/unbound/root.hints https://www.internic.net/domain/named.cache\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"3",children:["\n",(0,i.jsx)(e.li,{children:"Utw\xf3rz plik konfiguracyjny Unbound:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"sudo nano /etc/unbound/unbound.conf.d/pi-hole.conf\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"4",children:["\n",(0,i.jsx)(e.li,{children:"Wklej poni\u017csz\u0105 konfiguracj\u0119:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'server:\n    verbosity: 0\n    interface: 127.0.0.1\n    port: 5335\n    do-ip4: yes\n    do-udp: yes\n    do-tcp: yes\n    root-hints: "/var/lib/unbound/root.hints"\n    harden-glue: yes\n    harden-dnssec-stripped: yes\n    cache-min-ttl: 3600\n    cache-max-ttl: 86400\n    prefetch: yes\n'})}),"\n",(0,i.jsxs)(e.ol,{start:"5",children:["\n",(0,i.jsx)(e.li,{children:"Uruchom ponownie Unbound:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"sudo service unbound restart\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"6",children:["\n",(0,i.jsx)(e.li,{children:"W Pi-hole ustaw serwer DNS na:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"127.0.0.1#5335\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"\ufe0f-62-konfiguracja-vpn-z-wireguard",children:"\ud83d\udee1\ufe0f 6.2 Konfiguracja VPN z WireGuard"}),"\n",(0,i.jsx)(e.p,{children:"Dzi\u0119ki VPN mo\u017cesz korzysta\u0107 z Pi-hole poza domow\u0105 sieci\u0105."}),"\n",(0,i.jsxs)(e.h4,{id:"-instalacja-wireguard",children:["\u2705 ",(0,i.jsx)(e.strong,{children:"Instalacja WireGuard:"})]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Zainstaluj WireGuard:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"sudo apt install wireguard -y\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"2",children:["\n",(0,i.jsx)(e.li,{children:"Utw\xf3rz klucze publiczne i prywatne:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"wg genkey | tee privatekey | wg pubkey > publickey\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"3",children:["\n",(0,i.jsxs)(e.li,{children:["Skonfiguruj plik ",(0,i.jsx)(e.code,{children:"/etc/wireguard/wg0.conf"}),":"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"[Interface]\nPrivateKey = <PRIVATE_KEY>\nAddress = 10.0.0.1/24\nListenPort = 51820\n\n[Peer]\nPublicKey = <CLIENT_PUBLIC_KEY>\nAllowedIPs = 0.0.0.0/0\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"4",children:["\n",(0,i.jsx)(e.li,{children:"Uruchom WireGuard:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"sudo wg-quick up wg0\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"\ufe0f-63-czarne-i-bia\u0142e-listy",children:"\u2696\ufe0f 6.3 Czarne i bia\u0142e listy"}),"\n",(0,i.jsxs)(e.h4,{id:"-dodanie-domeny-do-czarnej-listy",children:["\u2795 ",(0,i.jsx)(e.strong,{children:"Dodanie domeny do czarnej listy:"})]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Otw\xf3rz panel administracyjny Pi-hole."}),"\n",(0,i.jsxs)(e.li,{children:["Przejd\u017a do ",(0,i.jsx)(e.strong,{children:"Group Management"})," \u2192 ",(0,i.jsx)(e.strong,{children:"Domains"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["Wpisz domen\u0119 i zaznacz jako ",(0,i.jsx)(e.strong,{children:"Blacklist"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"-dodanie-domeny-do-bia\u0142ej-listy",children:["\u2796 ",(0,i.jsx)(e.strong,{children:"Dodanie domeny do bia\u0142ej listy:"})]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["W tym samym panelu dodaj domen\u0119 i zaznacz jako ",(0,i.jsx)(e.strong,{children:"Whitelist"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"-64-tworzenie-w\u0142asnych-list-blokuj\u0105cych",children:"\ud83d\udccb 6.4 Tworzenie w\u0142asnych list blokuj\u0105cych"}),"\n",(0,i.jsx)(e.p,{children:"Je\u015bli chcesz stworzy\u0107 w\u0142asn\u0105 list\u0119 domen do zablokowania:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Utw\xf3rz plik tekstowy:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"nano ~/moja-lista.txt\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"2",children:["\n",(0,i.jsx)(e.li,{children:"Dodaj domeny do zablokowania, np.:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"ads.example.com\ntrackers.example.org\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"3",children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Dodaj w\u0142asn\u0105 list\u0119 do Pi-hole:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Przejd\u017a do ",(0,i.jsx)(e.strong,{children:"Adlists"})," i wklej lokaln\u0105 \u015bcie\u017ck\u0119 lub URL."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Zaktualizuj listy:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pihole -g\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"-podsumowanie",children:"\ud83d\udfe2 Podsumowanie"}),"\n",(0,i.jsxs)(e.p,{children:["\u2705 Skonfigurowano Unbound jako lokalny resolver DNS.",(0,i.jsx)(e.br,{}),"\n","\u2705 Skonfigurowano VPN za pomoc\u0105 WireGuard.",(0,i.jsx)(e.br,{}),"\n","\u2705 Zarz\u0105dzano czarnymi i bia\u0142ymi listami.",(0,i.jsx)(e.br,{}),"\n","\u2705 Utworzono w\u0142asne listy blokuj\u0105ce."]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsxs)(e.strong,{children:["\u27a1\ufe0f Przejd\u017a do ",(0,i.jsx)(e.a,{href:"/docs/kurspihole/rozdzial-7-rozwiazywanie-problemow",children:"Rozdzia\u0142u 7: Rozwi\u0105zywanie problem\xf3w"}),", aby dowiedzie\u0107 si\u0119, jak radzi\u0107 sobie z najcz\u0119stszymi b\u0142\u0119dami."]})," \ud83e\uddd1\u200d\ud83d\udcbb"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(t,{...n})}):t(n)}}}]);