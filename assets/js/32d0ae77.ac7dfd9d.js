"use strict";(self.webpackChunkmy_page=self.webpackChunkmy_page||[]).push([[71932],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var a=i(96540);const o={},s=a.createContext(o);function t(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),a.createElement(s.Provider,{value:n},e.children)}},60316:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>t,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"kurs-owasp/testowanie-podatnosci/a10-ssrf-opis","title":"Opis podatno\u015bci i jej wp\u0142yw","description":"\ud83d\udd0d Czym jest SSRF?","source":"@site/docs/kurs-owasp/03-testowanie-podatnosci/a10-ssrf-opis.md","sourceDirName":"kurs-owasp/03-testowanie-podatnosci","slug":"/kurs-owasp/testowanie-podatnosci/a10-ssrf-opis","permalink":"/docs/kurs-owasp/testowanie-podatnosci/a10-ssrf-opis","draft":false,"unlisted":false,"editUrl":"https://github.com/przemyslvw/my-page/edit/master/docs/kurs-owasp/03-testowanie-podatnosci/a10-ssrf-opis.md","tags":[],"version":"current","sidebarPosition":46,"frontMatter":{"id":"a10-ssrf-opis","title":"Opis podatno\u015bci i jej wp\u0142yw","sidebar_position":46},"sidebar":"tutorialSidebar","previous":{"title":"Praktyczne \u0107wiczenie: Testowanie i mitigacja","permalink":"/docs/kurs-owasp/testowanie-podatnosci/a09-logging-monitoring-cwiczenie"},"next":{"title":"Metody testowania podatno\u015bci","permalink":"/docs/kurs-owasp/testowanie-podatnosci/a10-ssrf-testowanie"}}');var o=i(74848),s=i(28453);const t={id:"a10-ssrf-opis",title:"Opis podatno\u015bci i jej wp\u0142yw",sidebar_position:46},r="\ud83c\udf10 Opis podatno\u015bci i jej wp\u0142yw \u2013 Server-Side Request Forgery (SSRF) (A10:2025)",c={},d=[{value:"\ud83d\udd0d Czym jest SSRF?",id:"-czym-jest-ssrf",level:2},{value:"\ud83e\udde0 Przyk\u0142ad dzia\u0142ania",id:"-przyk\u0142ad-dzia\u0142ania",level:2},{value:"\ud83d\udea8 Potencjalne konsekwencje",id:"-potencjalne-konsekwencje",level:2},{value:"\ud83d\udcc9 Czynniki ryzyka",id:"-czynniki-ryzyka",level:2},{value:"\ud83c\udfaf Dlaczego to istotne?",id:"-dlaczego-to-istotne",level:2},{value:"\u2705 Podsumowanie",id:"-podsumowanie",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"-opis-podatno\u015bci-i-jej-wp\u0142yw--server-side-request-forgery-ssrf-a102025",children:"\ud83c\udf10 Opis podatno\u015bci i jej wp\u0142yw \u2013 Server-Side Request Forgery (SSRF) (A10:2025)"})}),"\n",(0,o.jsx)(n.h2,{id:"-czym-jest-ssrf",children:"\ud83d\udd0d Czym jest SSRF?"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Server-Side Request Forgery (SSRF)"})," to podatno\u015b\u0107, w kt\xf3rej atakuj\u0105cy zmusza serwer aplikacji do wykonania \u017c\u0105dania HTTP do innego zasobu \u2013 wewn\u0119trznego lub zewn\u0119trznego \u2013 w imieniu aplikacji. Mo\u017ce to prowadzi\u0107 do:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["uzyskania dost\u0119pu do zasob\xf3w wewn\u0119trznych (np. ",(0,o.jsx)(n.code,{children:"localhost"}),", ",(0,o.jsx)(n.code,{children:"169.254.169.254"}),"),"]}),"\n",(0,o.jsx)(n.li,{children:"skanowania sieci wewn\u0119trznej,"}),"\n",(0,o.jsx)(n.li,{children:"wycieku danych,"}),"\n",(0,o.jsx)(n.li,{children:"eskalacji atak\xf3w (np. przez wykorzystanie token\xf3w, metadanych, us\u0142ug backendowych)."}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-przyk\u0142ad-dzia\u0142ania",children:"\ud83e\udde0 Przyk\u0142ad dzia\u0142ania"}),"\n",(0,o.jsx)(n.p,{children:"Aplikacja pozwala na pobieranie miniatur obrazk\xf3w z zewn\u0119trznych adres\xf3w URL:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"GET /fetch-image?url=http://example.com/image.jpg\n"})}),"\n",(0,o.jsx)(n.p,{children:"Atakuj\u0105cy podmienia adres na wewn\u0119trzny:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"GET /fetch-image?url=http://127.0.0.1:8080/admin\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u27a1\ufe0f Aplikacja wykonuje \u017c\u0105danie do w\u0142asnego backendu lub ukrytej us\u0142ugi, ujawniaj\u0105c dane lub umo\u017cliwiaj\u0105c zdalne wykonanie polece\u0144."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-potencjalne-konsekwencje",children:"\ud83d\udea8 Potencjalne konsekwencje"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Dost\u0119p do wewn\u0119trznych API"})," \u2013 np. ",(0,o.jsx)(n.code,{children:"http://localhost:5000/internal/status"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Odczyt metadanych instancji chmurowej"})," \u2013 np. AWS EC2: ",(0,o.jsx)(n.code,{children:"http://169.254.169.254/latest/meta-data/"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ataki typu port scanning / SSRF chaining"})," \u2013 np. \u0142\u0105czone z RCE, XSS, IDOR."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Dost\u0119p do baz danych, Redis, Docker socket"})," \u2013 w zale\u017cno\u015bci od otwarto\u015bci \u015brodowiska."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-czynniki-ryzyka",children:"\ud83d\udcc9 Czynniki ryzyka"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Brak walidacji i filtrowania adres\xf3w URL dostarczanych przez u\u017cytkownika."}),"\n",(0,o.jsx)(n.li,{children:"Zezwalanie na przekazywanie \u017c\u0105da\u0144 przez serwer do niekontrolowanych adres\xf3w."}),"\n",(0,o.jsxs)(n.li,{children:["U\u017cywanie bibliotek wykonuj\u0105cych \u017c\u0105dania bez whitelisty (np. ",(0,o.jsx)(n.code,{children:"curl"}),", ",(0,o.jsx)(n.code,{children:"requests"}),", ",(0,o.jsx)(n.code,{children:"urllib"}),")."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-dlaczego-to-istotne",children:"\ud83c\udfaf Dlaczego to istotne?"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"SSRF omija ograniczenia sieciowe i firewalle \u2014 to serwer wykonuje \u017c\u0105dania."}),"\n",(0,o.jsx)(n.li,{children:"Atak bywa trudny do wykrycia \u2013 \u017c\u0105danie pochodzi z legalnego IP serwera."}),"\n",(0,o.jsx)(n.li,{children:"Cz\u0119sto wykorzystywana jako wektor pocz\u0105tkowy w atakach na chmur\u0119 (np. kradzie\u017c token\xf3w IAM)."}),"\n",(0,o.jsx)(n.li,{children:"W 2021 roku podatno\u015b\u0107 SSRF umo\u017cliwi\u0142a ataki na Azure, Alibaba Cloud, Google Cloud i AWS."}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-podsumowanie",children:"\u2705 Podsumowanie"}),"\n",(0,o.jsx)(n.p,{children:"SSRF to krytyczna podatno\u015b\u0107 typu \u201eproxy\u201d, umo\u017cliwiaj\u0105ca atakuj\u0105cemu wykonanie \u017c\u0105da\u0144 w kontek\u015bcie aplikacji. Nawet pozornie bezpieczna funkcjonalno\u015b\u0107 (np. preview linku, parsery PDF) mo\u017ce stanowi\u0107 wektor ataku, je\u015bli umo\u017cliwia odwo\u0142ania do adres\xf3w kontrolowanych przez u\u017cytkownika."})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);