"use strict";(self.webpackChunkmy_page=self.webpackChunkmy_page||[]).push([[14140],{28453:(e,i,a)=>{a.d(i,{R:()=>o,x:()=>c});var r=a(96540);const n={},s=r.createContext(n);function o(e){const i=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(s.Provider,{value:i},e.children)}},75637:(e,i,a)=>{a.r(i),a.d(i,{assets:()=>d,contentTitle:()=>c,default:()=>j,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"kurs-owasp/testowanie-podatnosci/a10-ssrf-konfiguracja","title":"Weryfikacja konfiguracji aplikacji i serwera","description":"\ud83c\udfaf Cel","source":"@site/docs/kurs-owasp/03-testowanie-podatnosci/a10-ssrf-konfiguracja.md","sourceDirName":"kurs-owasp/03-testowanie-podatnosci","slug":"/kurs-owasp/testowanie-podatnosci/a10-ssrf-konfiguracja","permalink":"/docs/kurs-owasp/testowanie-podatnosci/a10-ssrf-konfiguracja","draft":false,"unlisted":false,"editUrl":"https://github.com/przemyslvw/my-page/edit/master/docs/kurs-owasp/03-testowanie-podatnosci/a10-ssrf-konfiguracja.md","tags":[],"version":"current","sidebarPosition":48,"frontMatter":{"id":"a10-ssrf-konfiguracja","title":"Weryfikacja konfiguracji aplikacji i serwera","sidebar_position":48},"sidebar":"tutorialSidebar","previous":{"title":"Metody testowania podatno\u015bci","permalink":"/docs/kurs-owasp/testowanie-podatnosci/a10-ssrf-testowanie"},"next":{"title":"Narz\u0119dzia do testowania","permalink":"/docs/kurs-owasp/testowanie-podatnosci/a10-ssrf-narzedzia"}}');var n=a(74848),s=a(28453);const o={id:"a10-ssrf-konfiguracja",title:"Weryfikacja konfiguracji aplikacji i serwera",sidebar_position:48},c="\u2699\ufe0f Weryfikacja konfiguracji aplikacji i serwera \u2013 Server-Side Request Forgery (SSRF) (A10:2025)",d={},l=[{value:"\ud83c\udfaf Cel",id:"-cel",level:2},{value:"\ud83d\udd10 Obszary do sprawdzenia",id:"-obszary-do-sprawdzenia",level:2},{value:"1. \ud83d\udd17 Aplikacja (kod i biblioteki)",id:"1--aplikacja-kod-i-biblioteki",level:3},{value:"2. \ud83e\uddf1 Serwer i zapora sieciowa (firewall)",id:"2--serwer-i-zapora-sieciowa-firewall",level:3},{value:"\ud83d\udccb Przyk\u0142ady zabezpiecze\u0144 w konfiguracji",id:"-przyk\u0142ady-zabezpiecze\u0144-w-konfiguracji",level:2},{value:"\ud83d\udea8 Typowe b\u0142\u0119dy konfiguracyjne",id:"-typowe-b\u0142\u0119dy-konfiguracyjne",level:2},{value:"\u2705 Rekomendacje",id:"-rekomendacje",level:2},{value:"\ud83d\udd0d Weryfikacja",id:"-weryfikacja",level:2}];function t(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"\ufe0f-weryfikacja-konfiguracji-aplikacji-i-serwera--server-side-request-forgery-ssrf-a102025",children:"\u2699\ufe0f Weryfikacja konfiguracji aplikacji i serwera \u2013 Server-Side Request Forgery (SSRF) (A10:2025)"})}),"\n",(0,n.jsx)(i.h2,{id:"-cel",children:"\ud83c\udfaf Cel"}),"\n",(0,n.jsx)(i.p,{children:"Zweryfikowanie, czy konfiguracja aplikacji i serwera chroni przed mo\u017cliwo\u015bci\u0105 wykonywania nieautoryzowanych \u017c\u0105da\u0144 HTTP do wewn\u0119trznych zasob\xf3w lub us\u0142ug zaufanych."}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"-obszary-do-sprawdzenia",children:"\ud83d\udd10 Obszary do sprawdzenia"}),"\n",(0,n.jsx)(i.h3,{id:"1--aplikacja-kod-i-biblioteki",children:"1. \ud83d\udd17 Aplikacja (kod i biblioteki)"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Czy aplikacja umo\u017cliwia u\u017cytkownikowi podanie URL jako wej\u015bcia?"}),"\n",(0,n.jsx)(i.li,{children:"Czy URL jest walidowany lub filtrowany?"}),"\n",(0,n.jsxs)(i.li,{children:["Czy aplikacja korzysta z funkcji wykonuj\u0105cych \u017c\u0105dania (",(0,n.jsx)(i.code,{children:"fetch"}),", ",(0,n.jsx)(i.code,{children:"axios"}),", ",(0,n.jsx)(i.code,{children:"requests"}),", ",(0,n.jsx)(i.code,{children:"curl"}),")?"]}),"\n",(0,n.jsx)(i.li,{children:"Czy istnieje whitelist/blacklist domen dozwolonych?"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"2--serwer-i-zapora-sieciowa-firewall",children:"2. \ud83e\uddf1 Serwer i zapora sieciowa (firewall)"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Czy serwer ma dost\u0119p do us\u0142ug wewn\u0119trznych (np. metadata service w chmurze)?"}),"\n",(0,n.jsx)(i.li,{children:"Czy outbound traffic jest filtrowany?"}),"\n",(0,n.jsxs)(i.li,{children:["Czy stosowane s\u0105 regu\u0142y ",(0,n.jsx)(i.code,{children:"iptables"})," lub ",(0,n.jsx)(i.code,{children:"ufw"}),", ograniczaj\u0105ce po\u0142\u0105czenia wychodz\u0105ce?"]}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"-przyk\u0142ady-zabezpiecze\u0144-w-konfiguracji",children:"\ud83d\udccb Przyk\u0142ady zabezpiecze\u0144 w konfiguracji"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Komponent"}),(0,n.jsx)(i.th,{children:"Przyk\u0142ad konfiguracji"}),(0,n.jsx)(i.th,{children:"Cel"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Aplikacja"}),(0,n.jsx)(i.td,{children:"Walidacja domen i IP przed wykonaniem \u017c\u0105dania"}),(0,n.jsx)(i.td,{children:"Blokada SSRF"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Serwer"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"ufw deny out to 169.254.169.254"})}),(0,n.jsx)(i.td,{children:"Ochrona metadata API"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Serwis chmurowy"}),(0,n.jsxs)(i.td,{children:["IAM deny dla ",(0,n.jsx)(i.code,{children:"GetMetadata"})]}),(0,n.jsx)(i.td,{children:"Blokada kradzie\u017cy to\u017csamo\u015bci"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Reverse Proxy (nginx)"}),(0,n.jsx)(i.td,{children:"Blokada lokalnych adres\xf3w (127.0.0.0/8)"}),(0,n.jsx)(i.td,{children:"Ochrona backendu"})]})]})]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"-typowe-b\u0142\u0119dy-konfiguracyjne",children:"\ud83d\udea8 Typowe b\u0142\u0119dy konfiguracyjne"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Brak filtrowania parametr\xf3w URL."}),"\n",(0,n.jsx)(i.li,{children:"Domy\u015blnie dozwolony outbound traffic do wszystkich IP."}),"\n",(0,n.jsx)(i.li,{children:"Zbyt szerokie uprawnienia instancji w chmurze (brak segmentacji)."}),"\n",(0,n.jsx)(i.li,{children:"Brak audytu log\xf3w po\u0142\u0105cze\u0144 wychodz\u0105cych."}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"-rekomendacje",children:"\u2705 Rekomendacje"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Wprowad\u017a whitelist\u0119 akceptowanych domen lub endpoint\xf3w."}),"\n",(0,n.jsx)(i.li,{children:"Zablokuj dost\u0119p aplikacji do lokalnych i prywatnych adres\xf3w IP."}),"\n",(0,n.jsxs)(i.li,{children:["W \u015brodowiskach chmurowych ogranicz dost\u0119p do ",(0,n.jsx)(i.code,{children:"169.254.169.254"}),"."]}),"\n",(0,n.jsx)(i.li,{children:"Korzystaj z serwis\xf3w proxy z inspekcj\u0105 i filtracj\u0105 ruchu."}),"\n",(0,n.jsx)(i.li,{children:"Monitoruj outbound traffic aplikacji."}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"-weryfikacja",children:"\ud83d\udd0d Weryfikacja"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Sprawd\u017a kod \u017ar\xf3d\u0142owy aplikacji \u2013 czy dane wej\u015bciowe s\u0105 walidowane."}),"\n",(0,n.jsx)(i.li,{children:"Przeanalizuj konfiguracj\u0119 serwera sieciowego i firewalli."}),"\n",(0,n.jsx)(i.li,{children:"W \u015brodowisku chmurowym \u2013 sprawd\u017a uprawnienia IAM i dost\u0119p do metadata API."}),"\n"]})]})}function j(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}}}]);