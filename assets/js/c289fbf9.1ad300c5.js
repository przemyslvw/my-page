"use strict";(self.webpackChunkmy_page=self.webpackChunkmy_page||[]).push([[4874],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>d});var a=i(96540);const s={},o=a.createContext(s);function c(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),a.createElement(o.Provider,{value:n},e.children)}},85991:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>c,metadata:()=>a,toc:()=>r});const a=JSON.parse('{"id":"kurs-owasp/testowanie-podatnosci/a06-vulnerable-components-cwiczenie","title":"\ud83e\uddea 3.6.5 \u2013 Praktyczne \u0107wiczenie: Testowanie i mitigacja","description":"\ud83c\udfaf Cel \u0107wiczenia","source":"@site/docs/kurs-owasp/03-testowanie-podatnosci/a06-vulnerable-components-cwiczenie.md","sourceDirName":"kurs-owasp/03-testowanie-podatnosci","slug":"/kurs-owasp/testowanie-podatnosci/a06-vulnerable-components-cwiczenie","permalink":"/docs/kurs-owasp/testowanie-podatnosci/a06-vulnerable-components-cwiczenie","draft":false,"unlisted":false,"editUrl":"https://github.com/przemyslvw/my-page/edit/master/docs/kurs-owasp/03-testowanie-podatnosci/a06-vulnerable-components-cwiczenie.md","tags":[],"version":"current","sidebarPosition":30,"frontMatter":{"id":"a06-vulnerable-components-cwiczenie","title":"\ud83e\uddea 3.6.5 \u2013 Praktyczne \u0107wiczenie: Testowanie i mitigacja","sidebar_position":30},"sidebar":"tutorialSidebar","previous":{"title":"\ud83e\uddf0 3.6.4 \u2013 Narz\u0119dzia do testowania","permalink":"/docs/kurs-owasp/testowanie-podatnosci/a06-vulnerable-components-narzedzia"},"next":{"title":"Opis podatno\u015bci i jej wp\u0142yw","permalink":"/docs/kurs-owasp/testowanie-podatnosci/a07-authentication-failures-opis"}}');var s=i(74848),o=i(28453);const c={id:"a06-vulnerable-components-cwiczenie",title:"\ud83e\uddea 3.6.5 \u2013 Praktyczne \u0107wiczenie: Testowanie i mitigacja",sidebar_position:30},d=void 0,l={},r=[{value:"\ud83c\udfaf Cel \u0107wiczenia",id:"-cel-\u0107wiczenia",level:2},{value:"\ud83e\uddea Scenariusz testowy",id:"-scenariusz-testowy",level:2},{value:"\ud83e\uddea Krok 1: Uruchom test <code>npm audit</code>",id:"-krok-1-uruchom-test-npm-audit",level:2},{value:"\ud83e\uddea Krok 2: Test przy pomocy <code>Snyk</code>",id:"-krok-2-test-przy-pomocy-snyk",level:2},{value:"\ud83e\uddea Krok 3: Analiza z <code>Grype</code>",id:"-krok-3-analiza-z-grype",level:2},{value:"\u2705 Oczekiwane zachowanie po naprawie",id:"-oczekiwane-zachowanie-po-naprawie",level:2},{value:"\ud83d\udee0\ufe0f Mitigacja",id:"\ufe0f-mitigacja",level:2},{value:"\ud83e\udde0 Dodatkowe scenariusze",id:"-dodatkowe-scenariusze",level:2},{value:"\u2705 Zadania do wykonania",id:"-zadania-do-wykonania",level:2},{value:"\u2705 Zadania do wykonania \u2013 wykonane",id:"-zadania-do-wykonania--wykonane",level:2},{value:"\ud83d\udd39 1. Audyt zale\u017cno\u015bci frontend/backend",id:"-1-audyt-zale\u017cno\u015bci-frontendbackend",level:3},{value:"\ud83d\udd39 2. Wygenerowana lista podatnych komponent\xf3w",id:"-2-wygenerowana-lista-podatnych-komponent\xf3w",level:3},{value:"\ud83d\udd39 3. Aktualizacja paczek i testy aplikacji",id:"-3-aktualizacja-paczek-i-testy-aplikacji",level:3},{value:"\ud83d\udd39 4. Opis w raporcie ko\u0144cowym",id:"-4-opis-w-raporcie-ko\u0144cowym",level:3}];function t(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",input:"input",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"-cel-\u0107wiczenia",children:"\ud83c\udfaf Cel \u0107wiczenia"}),"\n",(0,s.jsx)(n.p,{children:"W tym \u0107wiczeniu:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"przeskanujesz zale\u017cno\u015bci aplikacji pod k\u0105tem znanych podatno\u015bci,"}),"\n",(0,s.jsx)(n.li,{children:"zidentyfikujesz komponenty wymagaj\u0105ce aktualizacji,"}),"\n",(0,s.jsx)(n.li,{children:"zaproponujesz mitgacje i aktualizacje."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-scenariusz-testowy",children:"\ud83e\uddea Scenariusz testowy"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Aplikacja:"})," Prosty backend Node.js z plikiem ",(0,s.jsx)(n.code,{children:"package.json"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Zawarto\u015b\u0107 pliku:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "dependencies": {\n    "express": "4.16.0",\n    "lodash": "4.17.10"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"-krok-1-uruchom-test-npm-audit",children:["\ud83e\uddea Krok 1: Uruchom test ",(0,s.jsx)(n.code,{children:"npm audit"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm audit\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u27a1\ufe0f Wynik:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"found 2 vulnerabilities (1 moderate, 1 high)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"-krok-2-test-przy-pomocy-snyk",children:["\ud83e\uddea Krok 2: Test przy pomocy ",(0,s.jsx)(n.code,{children:"Snyk"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"snyk test\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u27a1\ufe0f Wynik:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"lodash@4.17.10"})," \u2013 podatno\u015b\u0107 typu Prototype Pollution"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"express@4.16.0"})," \u2013 podatno\u015b\u0107 XSS (CVE)"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"-krok-3-analiza-z-grype",children:["\ud83e\uddea Krok 3: Analiza z ",(0,s.jsx)(n.code,{children:"Grype"})]}),"\n",(0,s.jsx)(n.p,{children:"Je\u015bli aplikacja jest w kontenerze:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"grype docker:myapp:latest\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-oczekiwane-zachowanie-po-naprawie",children:"\u2705 Oczekiwane zachowanie po naprawie"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Aktualizacja ",(0,s.jsx)(n.code,{children:"lodash"})," do ",(0,s.jsx)(n.code,{children:"4.17.21"})]}),"\n",(0,s.jsxs)(n.li,{children:["Aktualizacja ",(0,s.jsx)(n.code,{children:"express"})," do ",(0,s.jsx)(n.code,{children:"4.18.2"})]}),"\n",(0,s.jsxs)(n.li,{children:["Dodanie ",(0,s.jsx)(n.code,{children:"audit"})," do pipeline CI/CD"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-mitigacja",children:"\ud83d\udee0\ufe0f Mitigacja"}),"\n",(0,s.jsxs)(n.p,{children:["Zaktualizowany ",(0,s.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "dependencies": {\n    "express": "^4.18.2",\n    "lodash": "^4.17.21"\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Dodanie do ",(0,s.jsx)(n.code,{children:"CI"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm audit || exit 1\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-dodatkowe-scenariusze",children:"\ud83e\udde0 Dodatkowe scenariusze"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Przetestuj obraz Docker (",(0,s.jsx)(n.code,{children:"trivy"}),", ",(0,s.jsx)(n.code,{children:"dockle"}),", ",(0,s.jsx)(n.code,{children:"grype"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Przeskanuj zale\u017cno\u015bci Python: ",(0,s.jsx)(n.code,{children:"pip-audit"})]}),"\n",(0,s.jsxs)(n.li,{children:["Uruchom ",(0,s.jsx)(n.code,{children:"Syft"})," do wygenerowania SBOM"]}),"\n",(0,s.jsx)(n.li,{children:"Zidentyfikuj zale\u017cno\u015bci transitive podatne na CVE"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-zadania-do-wykonania",children:"\u2705 Zadania do wykonania"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Wykonaj audyt zale\u017cno\u015bci frontend/backend."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Wygeneruj list\u0119 podatnych komponent\xf3w."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Zaktualizuj paczki i przetestuj dzia\u0142anie aplikacji."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Opisz problem i rozwi\u0105zanie w raporcie ko\u0144cowym."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-zadania-do-wykonania--wykonane",children:"\u2705 Zadania do wykonania \u2013 wykonane"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"-1-audyt-zale\u017cno\u015bci-frontendbackend",children:"\ud83d\udd39 1. Audyt zale\u017cno\u015bci frontend/backend"}),"\n",(0,s.jsx)(n.p,{children:"Przeprowadzono audyt dla aplikacji Node.js (backend) oraz Angular (frontend):"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"npm audit"})," \u2013 wykryto 3 znane podatno\u015bci (",(0,s.jsx)(n.code,{children:"lodash"}),", ",(0,s.jsx)(n.code,{children:"express"}),", ",(0,s.jsx)(n.code,{children:"minimist"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"yarn audit"})," \u2013 dodatkowo wykryto podatno\u015b\u0107 w ",(0,s.jsx)(n.code,{children:"axios"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"-2-wygenerowana-lista-podatnych-komponent\xf3w",children:"\ud83d\udd39 2. Wygenerowana lista podatnych komponent\xf3w"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "lodash": "4.17.10",\n  "express": "4.16.0",\n  "axios": "0.19.0"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u0179r\xf3d\u0142o: ",(0,s.jsx)(n.code,{children:"snyk test"}),", ",(0,s.jsx)(n.code,{children:"npm audit"}),", ",(0,s.jsx)(n.code,{children:"yarn audit"}),", ",(0,s.jsx)(n.code,{children:"grype"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"-3-aktualizacja-paczek-i-testy-aplikacji",children:"\ud83d\udd39 3. Aktualizacja paczek i testy aplikacji"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"lodash"})," \u2192 4.17.21 \u2705"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"express"})," \u2192 4.18.2 \u2705"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"axios"})," \u2192 1.6.0 \u2705"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Testy aplikacji zako\u0144czone sukcesem. Nie stwierdzono regresji."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"-4-opis-w-raporcie-ko\u0144cowym",children:"\ud83d\udd39 4. Opis w raporcie ko\u0144cowym"}),"\n",(0,s.jsx)(n.p,{children:"W raporcie zawarto:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"list\u0119 CVE oraz komponent\xf3w"}),"\n",(0,s.jsxs)(n.li,{children:["przyk\u0142ady payload\xf3w atak\xf3w (dla ",(0,s.jsx)(n.code,{children:"lodash"})," \u2013 prototype pollution)"]}),"\n",(0,s.jsx)(n.li,{children:"rekomendacj\u0119 automatycznego audytu w CI"}),"\n",(0,s.jsx)(n.li,{children:"zaktualizowane zale\u017cno\u015bci w za\u0142\u0105cznikach"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"Zadanie zako\u0144czone i uwzgl\u0119dnione w ko\u0144cowym raporcie bezpiecze\u0144stwa OWASP Top 10."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["W nast\u0119pnym rozdziale: ",(0,s.jsx)(n.strong,{children:"3.7 \u2013 Identification and Authentication Failures"})]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}}}]);